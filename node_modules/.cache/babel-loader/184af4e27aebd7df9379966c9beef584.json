{"ast":null,"code":"var _jsxFileName = \"/Users/giancarlomansilla/tracker/src/Calendar/Calendar.js\";\nimport React from \"react\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Calendar extends React.Component {\n  constructor(_props) {\n    super(_props);\n    this.state = {\n      dateContext: moment(),\n      today: moment(),\n      showMonthPopup: false,\n      showYearPopup: false,\n      selectedDay: null\n    };\n    this.weekdays = moment.weekdays();\n    this.weekdaysShort = moment.weekdaysShort();\n    this.months = moment.months();\n\n    this.year = () => {\n      return this.state.dateContext.format(\"Y\");\n    };\n\n    this.month = () => {\n      return this.state.dateContext.format(\"MMMM\");\n    };\n\n    this.daysInMonth = () => {\n      return this.state.dateContext.daysInMonth();\n    };\n\n    this.currentDate = () => {\n      console.log(\"currentDate: \", this.state.dateContext.get(\"date\"));\n      return this.state.dateContext.get(\"date\");\n    };\n\n    this.currentDay = () => {\n      return this.state.dateContext.format(\"D\");\n    };\n\n    this.firstDayOfMonth = () => {\n      let dateContext = this.state.dateContext;\n      let firstDay = moment(dateContext).startOf(\"month\").format(\"d\"); // Day of week 0...1..5...6\n\n      return firstDay;\n    };\n\n    this.setMonth = month => {\n      let monthNo = this.months.indexOf(month);\n      let dateContext = Object.assign({}, this.state.dateContext);\n      dateContext = moment(dateContext).set(\"month\", monthNo);\n      this.setState({\n        dateContext: dateContext\n      });\n    };\n\n    this.nextMonth = () => {\n      let dateContext = Object.assign({}, this.state.dateContext);\n      dateContext = moment(dateContext).add(1, \"month\");\n      this.setState({\n        dateContext: dateContext\n      });\n      this.props.onNextMonth && this.props.onNextMonth();\n    };\n\n    this.prevMonth = () => {\n      let dateContext = Object.assign({}, this.state.dateContext);\n      dateContext = moment(dateContext).subtract(1, \"month\");\n      this.setState({\n        dateContext: dateContext\n      });\n      this.props.onPrevMonth && this.props.onPrevMonth();\n    };\n\n    this.onSelectChange = (e, data) => {\n      this.setMonth(data);\n      this.props.onMonthChange && this.props.onMonthChange();\n    };\n\n    this.SelectList = props => {\n      let popup = props.data.map(data => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: e => {\n              this.onSelectChange(e, data);\n            },\n            children: data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 11\n          }, this)\n        }, data, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this);\n      });\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"month-popup\",\n        children: popup\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 12\n      }, this);\n    };\n\n    this.onChangeMonth = (e, month) => {\n      this.setState({\n        showMonthPopup: !this.state.showMonthPopup\n      });\n    };\n\n    this.MonthNav = () => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"label-month\",\n        onClick: e => {\n          this.onChangeMonth(e, this.month());\n        },\n        children: [this.month(), this.state.showMonthPopup && /*#__PURE__*/_jsxDEV(this.SelectList, {\n          data: this.months\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.showYearEditor = () => {\n      this.setState({\n        showYearNav: true\n      });\n    };\n\n    this.setYear = year => {\n      let dateContext = Object.assign({}, this.state.dateContext);\n      dateContext = moment(dateContext).set(\"year\", year);\n      this.setState({\n        dateContext: dateContext\n      });\n    };\n\n    this.onYearChange = e => {\n      this.setYear(e.target.value);\n      this.props.onYearChange && this.props.onYearChange(e, e.target.value);\n    };\n\n    this.onKeyUpYear = e => {\n      if (e.which === 13 || e.which === 27) {\n        this.setYear(e.target.value);\n        this.setState({\n          showYearNav: false\n        });\n      }\n    };\n\n    this.YearNav = () => {\n      return this.state.showYearNav ? /*#__PURE__*/_jsxDEV(\"input\", {\n        defaultValue: this.year(),\n        className: \"editor-year\",\n        ref: yearInput => {\n          this.yearInput = yearInput;\n        },\n        onKeyUp: e => this.onKeyUpYear(e),\n        onChange: e => this.onYearChange(e),\n        type: \"number\",\n        placeholder: \"year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"label-year\",\n        onDoubleClick: e => {\n          this.showYearEditor();\n        },\n        children: this.year()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.onDayClick = (e, day) => {\n      this.setState({\n        selectedDay: day\n      }, () => {\n        console.log(\"SELECTED DAY: \", this.state.selectedDay);\n      });\n      this.props.onDayClick && this.props.onDayClick(e, day);\n    };\n\n    this.width = _props.width || \"350px\";\n    this.style = _props.style || {};\n    this.style.width = this.width; // add this\n  }\n\n  render() {\n    // Map the weekdays i.e Sun, Mon, Tue etc as <td>\n    let weekdays = this.weekdaysShort.map(day => {\n      return /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"week-day\",\n        children: day\n      }, day, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this);\n    });\n    let blanks = [];\n\n    for (let i = 0; i < this.firstDayOfMonth(); i++) {\n      blanks.push( /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"emptySlot\",\n        children: \"\"\n      }, i * 80, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this));\n    }\n\n    console.log(\"blanks: \", blanks);\n    let daysInMonth = [];\n\n    for (let d = 1; d <= this.daysInMonth(); d++) {\n      let className = d === this.currentDay() ? \"day current-day\" : \"day\";\n      let selectedClass = d === this.state.selectedDay ? \" selected-day \" : \"\";\n      daysInMonth.push( /*#__PURE__*/_jsxDEV(\"td\", {\n        className: className + selectedClass,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: e => {\n            this.onDayClick(e, d);\n          },\n          children: d\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)\n      }, d, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this));\n    }\n\n    console.log(\"days: \", daysInMonth);\n    var totalSlots = [...blanks, ...daysInMonth];\n    let rows = [];\n    let cells = [];\n    totalSlots.forEach((row, i) => {\n      if (i % 7 !== 0) {\n        cells.push(row);\n      } else {\n        let insertRow = cells.slice();\n        rows.push(insertRow);\n        cells = [];\n        cells.push(row);\n      }\n\n      if (i === totalSlots.length - 1) {\n        let insertRow = cells.slice();\n        rows.push(insertRow);\n      }\n    });\n    let trElems = rows.map((d, i) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: d\n      }, i * 100, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 14\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-container\",\n      style: this.style,\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"calendar\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"calendar-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"5\",\n              children: [/*#__PURE__*/_jsxDEV(this.MonthNav, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(this.YearNav, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 35\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"2\",\n              className: \"nav-month\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"prev fa fa-fw fa-chevron-left\",\n                onClick: e => {\n                  this.prevMonth();\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"prev fa fa-fw fa-chevron-right\",\n                onClick: e => {\n                  this.nextMonth();\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: weekdays\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), trElems]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/giancarlomansilla/tracker/src/Calendar/Calendar.js"],"names":["React","moment","Calendar","Component","constructor","props","state","dateContext","today","showMonthPopup","showYearPopup","selectedDay","weekdays","weekdaysShort","months","year","format","month","daysInMonth","currentDate","console","log","get","currentDay","firstDayOfMonth","firstDay","startOf","setMonth","monthNo","indexOf","Object","assign","set","setState","nextMonth","add","onNextMonth","prevMonth","subtract","onPrevMonth","onSelectChange","e","data","onMonthChange","SelectList","popup","map","onChangeMonth","MonthNav","showYearEditor","showYearNav","setYear","onYearChange","target","value","onKeyUpYear","which","YearNav","yearInput","onDayClick","day","width","style","render","blanks","i","push","d","className","selectedClass","totalSlots","rows","cells","forEach","row","insertRow","slice","length","trElems"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,eAAe,MAAMC,QAAN,SAAuBF,KAAK,CAACG,SAA7B,CAAuC;AASpDC,EAAAA,WAAW,CAACC,MAAD,EAAQ;AACjB,UAAMA,MAAN;AADiB,SARnBC,KAQmB,GARX;AACNC,MAAAA,WAAW,EAAEN,MAAM,EADb;AAENO,MAAAA,KAAK,EAAEP,MAAM,EAFP;AAGNQ,MAAAA,cAAc,EAAE,KAHV;AAINC,MAAAA,aAAa,EAAE,KAJT;AAKNC,MAAAA,WAAW,EAAE;AALP,KAQW;AAAA,SAOnBC,QAPmB,GAORX,MAAM,CAACW,QAAP,EAPQ;AAAA,SAQnBC,aARmB,GAQHZ,MAAM,CAACY,aAAP,EARG;AAAA,SASnBC,MATmB,GASVb,MAAM,CAACa,MAAP,EATU;;AAAA,SAWnBC,IAXmB,GAWZ,MAAM;AACX,aAAO,KAAKT,KAAL,CAAWC,WAAX,CAAuBS,MAAvB,CAA8B,GAA9B,CAAP;AACD,KAbkB;;AAAA,SAcnBC,KAdmB,GAcX,MAAM;AACZ,aAAO,KAAKX,KAAL,CAAWC,WAAX,CAAuBS,MAAvB,CAA8B,MAA9B,CAAP;AACD,KAhBkB;;AAAA,SAiBnBE,WAjBmB,GAiBL,MAAM;AAClB,aAAO,KAAKZ,KAAL,CAAWC,WAAX,CAAuBW,WAAvB,EAAP;AACD,KAnBkB;;AAAA,SAoBnBC,WApBmB,GAoBL,MAAM;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6B,KAAKf,KAAL,CAAWC,WAAX,CAAuBe,GAAvB,CAA2B,MAA3B,CAA7B;AACA,aAAO,KAAKhB,KAAL,CAAWC,WAAX,CAAuBe,GAAvB,CAA2B,MAA3B,CAAP;AACD,KAvBkB;;AAAA,SAwBnBC,UAxBmB,GAwBN,MAAM;AACjB,aAAO,KAAKjB,KAAL,CAAWC,WAAX,CAAuBS,MAAvB,CAA8B,GAA9B,CAAP;AACD,KA1BkB;;AAAA,SA4BnBQ,eA5BmB,GA4BD,MAAM;AACtB,UAAIjB,WAAW,GAAG,KAAKD,KAAL,CAAWC,WAA7B;AACA,UAAIkB,QAAQ,GAAGxB,MAAM,CAACM,WAAD,CAAN,CAAoBmB,OAApB,CAA4B,OAA5B,EAAqCV,MAArC,CAA4C,GAA5C,CAAf,CAFsB,CAE2C;;AACjE,aAAOS,QAAP;AACD,KAhCkB;;AAAA,SAkCnBE,QAlCmB,GAkCPV,KAAD,IAAW;AACpB,UAAIW,OAAO,GAAG,KAAKd,MAAL,CAAYe,OAAZ,CAAoBZ,KAApB,CAAd;AACA,UAAIV,WAAW,GAAGuB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKzB,KAAL,CAAWC,WAA7B,CAAlB;AACAA,MAAAA,WAAW,GAAGN,MAAM,CAACM,WAAD,CAAN,CAAoByB,GAApB,CAAwB,OAAxB,EAAiCJ,OAAjC,CAAd;AACA,WAAKK,QAAL,CAAc;AACZ1B,QAAAA,WAAW,EAAEA;AADD,OAAd;AAGD,KAzCkB;;AAAA,SA2CnB2B,SA3CmB,GA2CP,MAAM;AAChB,UAAI3B,WAAW,GAAGuB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKzB,KAAL,CAAWC,WAA7B,CAAlB;AACAA,MAAAA,WAAW,GAAGN,MAAM,CAACM,WAAD,CAAN,CAAoB4B,GAApB,CAAwB,CAAxB,EAA2B,OAA3B,CAAd;AACA,WAAKF,QAAL,CAAc;AACZ1B,QAAAA,WAAW,EAAEA;AADD,OAAd;AAGA,WAAKF,KAAL,CAAW+B,WAAX,IAA0B,KAAK/B,KAAL,CAAW+B,WAAX,EAA1B;AACD,KAlDkB;;AAAA,SAoDnBC,SApDmB,GAoDP,MAAM;AAChB,UAAI9B,WAAW,GAAGuB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKzB,KAAL,CAAWC,WAA7B,CAAlB;AACAA,MAAAA,WAAW,GAAGN,MAAM,CAACM,WAAD,CAAN,CAAoB+B,QAApB,CAA6B,CAA7B,EAAgC,OAAhC,CAAd;AACA,WAAKL,QAAL,CAAc;AACZ1B,QAAAA,WAAW,EAAEA;AADD,OAAd;AAGA,WAAKF,KAAL,CAAWkC,WAAX,IAA0B,KAAKlC,KAAL,CAAWkC,WAAX,EAA1B;AACD,KA3DkB;;AAAA,SA6DnBC,cA7DmB,GA6DF,CAACC,CAAD,EAAIC,IAAJ,KAAa;AAC5B,WAAKf,QAAL,CAAce,IAAd;AACA,WAAKrC,KAAL,CAAWsC,aAAX,IAA4B,KAAKtC,KAAL,CAAWsC,aAAX,EAA5B;AACD,KAhEkB;;AAAA,SAiEnBC,UAjEmB,GAiELvC,KAAD,IAAW;AACtB,UAAIwC,KAAK,GAAGxC,KAAK,CAACqC,IAAN,CAAWI,GAAX,CAAgBJ,IAAD,IAAU;AACnC,4BACE;AAAA,iCACE;AACE,YAAA,IAAI,EAAC,GADP;AAEE,YAAA,OAAO,EAAGD,CAAD,IAAO;AACd,mBAAKD,cAAL,CAAoBC,CAApB,EAAuBC,IAAvB;AACD,aAJH;AAAA,sBAMGA;AANH;AAAA;AAAA;AAAA;AAAA;AADF,WAAUA,IAAV;AAAA;AAAA;AAAA;AAAA,gBADF;AAYD,OAbW,CAAZ;AAeA,0BAAO;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,kBAA8BG;AAA9B;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAlFkB;;AAAA,SAoFnBE,aApFmB,GAoFH,CAACN,CAAD,EAAIxB,KAAJ,KAAc;AAC5B,WAAKgB,QAAL,CAAc;AACZxB,QAAAA,cAAc,EAAE,CAAC,KAAKH,KAAL,CAAWG;AADhB,OAAd;AAGD,KAxFkB;;AAAA,SA0FnBuC,QA1FmB,GA0FR,MAAM;AACf,0BACE;AACE,QAAA,SAAS,EAAC,aADZ;AAEE,QAAA,OAAO,EAAGP,CAAD,IAAO;AACd,eAAKM,aAAL,CAAmBN,CAAnB,EAAsB,KAAKxB,KAAL,EAAtB;AACD,SAJH;AAAA,mBAMG,KAAKA,KAAL,EANH,EAOG,KAAKX,KAAL,CAAWG,cAAX,iBAA6B,aAAM,UAAN;AAAiB,UAAA,IAAI,EAAE,KAAKK;AAA5B;AAAA;AAAA;AAAA;AAAA,gBAPhC;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAWD,KAtGkB;;AAAA,SAwGnBmC,cAxGmB,GAwGF,MAAM;AACrB,WAAKhB,QAAL,CAAc;AACZiB,QAAAA,WAAW,EAAE;AADD,OAAd;AAGD,KA5GkB;;AAAA,SA8GnBC,OA9GmB,GA8GRpC,IAAD,IAAU;AAClB,UAAIR,WAAW,GAAGuB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKzB,KAAL,CAAWC,WAA7B,CAAlB;AACAA,MAAAA,WAAW,GAAGN,MAAM,CAACM,WAAD,CAAN,CAAoByB,GAApB,CAAwB,MAAxB,EAAgCjB,IAAhC,CAAd;AACA,WAAKkB,QAAL,CAAc;AACZ1B,QAAAA,WAAW,EAAEA;AADD,OAAd;AAGD,KApHkB;;AAAA,SAqHnB6C,YArHmB,GAqHHX,CAAD,IAAO;AACpB,WAAKU,OAAL,CAAaV,CAAC,CAACY,MAAF,CAASC,KAAtB;AACA,WAAKjD,KAAL,CAAW+C,YAAX,IAA2B,KAAK/C,KAAL,CAAW+C,YAAX,CAAwBX,CAAxB,EAA2BA,CAAC,CAACY,MAAF,CAASC,KAApC,CAA3B;AACD,KAxHkB;;AAAA,SA0HnBC,WA1HmB,GA0HJd,CAAD,IAAO;AACnB,UAAIA,CAAC,CAACe,KAAF,KAAY,EAAZ,IAAkBf,CAAC,CAACe,KAAF,KAAY,EAAlC,EAAsC;AACpC,aAAKL,OAAL,CAAaV,CAAC,CAACY,MAAF,CAASC,KAAtB;AACA,aAAKrB,QAAL,CAAc;AACZiB,UAAAA,WAAW,EAAE;AADD,SAAd;AAGD;AACF,KAjIkB;;AAAA,SAmInBO,OAnImB,GAmIT,MAAM;AACd,aAAO,KAAKnD,KAAL,CAAW4C,WAAX,gBACL;AACE,QAAA,YAAY,EAAE,KAAKnC,IAAL,EADhB;AAEE,QAAA,SAAS,EAAC,aAFZ;AAGE,QAAA,GAAG,EAAG2C,SAAD,IAAe;AAClB,eAAKA,SAAL,GAAiBA,SAAjB;AACD,SALH;AAME,QAAA,OAAO,EAAGjB,CAAD,IAAO,KAAKc,WAAL,CAAiBd,CAAjB,CANlB;AAOE,QAAA,QAAQ,EAAGA,CAAD,IAAO,KAAKW,YAAL,CAAkBX,CAAlB,CAPnB;AAQE,QAAA,IAAI,EAAC,QARP;AASE,QAAA,WAAW,EAAC;AATd;AAAA;AAAA;AAAA;AAAA,cADK,gBAaL;AACE,QAAA,SAAS,EAAC,YADZ;AAEE,QAAA,aAAa,EAAGA,CAAD,IAAO;AACpB,eAAKQ,cAAL;AACD,SAJH;AAAA,kBAMG,KAAKlC,IAAL;AANH;AAAA;AAAA;AAAA;AAAA,cAbF;AAsBD,KA1JkB;;AAAA,SA4JnB4C,UA5JmB,GA4JN,CAAClB,CAAD,EAAImB,GAAJ,KAAY;AACvB,WAAK3B,QAAL,CACE;AACEtB,QAAAA,WAAW,EAAEiD;AADf,OADF,EAIE,MAAM;AACJxC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKf,KAAL,CAAWK,WAAzC;AACD,OANH;AASA,WAAKN,KAAL,CAAWsD,UAAX,IAAyB,KAAKtD,KAAL,CAAWsD,UAAX,CAAsBlB,CAAtB,EAAyBmB,GAAzB,CAAzB;AACD,KAvKkB;;AAEjB,SAAKC,KAAL,GAAaxD,MAAK,CAACwD,KAAN,IAAe,OAA5B;AACA,SAAKC,KAAL,GAAazD,MAAK,CAACyD,KAAN,IAAe,EAA5B;AACA,SAAKA,KAAL,CAAWD,KAAX,GAAmB,KAAKA,KAAxB,CAJiB,CAIc;AAChC;;AAoKDE,EAAAA,MAAM,GAAG;AACP;AACA,QAAInD,QAAQ,GAAG,KAAKC,aAAL,CAAmBiC,GAAnB,CAAwBc,GAAD,IAAS;AAC7C,0BACE;AAAc,QAAA,SAAS,EAAC,UAAxB;AAAA,kBACGA;AADH,SAASA,GAAT;AAAA;AAAA;AAAA;AAAA,cADF;AAKD,KANc,CAAf;AAQA,QAAII,MAAM,GAAG,EAAb;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKzC,eAAL,EAApB,EAA4CyC,CAAC,EAA7C,EAAiD;AAC/CD,MAAAA,MAAM,CAACE,IAAP,eACE;AAAiB,QAAA,SAAS,EAAC,WAA3B;AAAA,kBACG;AADH,SAASD,CAAC,GAAG,EAAb;AAAA;AAAA;AAAA;AAAA,cADF;AAKD;;AAED7C,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB2C,MAAxB;AAEA,QAAI9C,WAAW,GAAG,EAAlB;;AACA,SAAK,IAAIiD,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,KAAKjD,WAAL,EAArB,EAAyCiD,CAAC,EAA1C,EAA8C;AAC5C,UAAIC,SAAS,GAAGD,CAAC,KAAK,KAAK5C,UAAL,EAAN,GAA0B,iBAA1B,GAA8C,KAA9D;AACA,UAAI8C,aAAa,GAAGF,CAAC,KAAK,KAAK7D,KAAL,CAAWK,WAAjB,GAA+B,gBAA/B,GAAkD,EAAtE;AACAO,MAAAA,WAAW,CAACgD,IAAZ,eACE;AAAY,QAAA,SAAS,EAAEE,SAAS,GAAGC,aAAnC;AAAA,+BACE;AACE,UAAA,OAAO,EAAG5B,CAAD,IAAO;AACd,iBAAKkB,UAAL,CAAgBlB,CAAhB,EAAmB0B,CAAnB;AACD,WAHH;AAAA,oBAKGA;AALH;AAAA;AAAA;AAAA;AAAA;AADF,SAASA,CAAT;AAAA;AAAA;AAAA;AAAA,cADF;AAWD;;AAED/C,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBH,WAAtB;AAEA,QAAIoD,UAAU,GAAG,CAAC,GAAGN,MAAJ,EAAY,GAAG9C,WAAf,CAAjB;AACA,QAAIqD,IAAI,GAAG,EAAX;AACA,QAAIC,KAAK,GAAG,EAAZ;AAEAF,IAAAA,UAAU,CAACG,OAAX,CAAmB,CAACC,GAAD,EAAMT,CAAN,KAAY;AAC7B,UAAIA,CAAC,GAAG,CAAJ,KAAU,CAAd,EAAiB;AACfO,QAAAA,KAAK,CAACN,IAAN,CAAWQ,GAAX;AACD,OAFD,MAEO;AACL,YAAIC,SAAS,GAAGH,KAAK,CAACI,KAAN,EAAhB;AACAL,QAAAA,IAAI,CAACL,IAAL,CAAUS,SAAV;AACAH,QAAAA,KAAK,GAAG,EAAR;AACAA,QAAAA,KAAK,CAACN,IAAN,CAAWQ,GAAX;AACD;;AACD,UAAIT,CAAC,KAAKK,UAAU,CAACO,MAAX,GAAoB,CAA9B,EAAiC;AAC/B,YAAIF,SAAS,GAAGH,KAAK,CAACI,KAAN,EAAhB;AACAL,QAAAA,IAAI,CAACL,IAAL,CAAUS,SAAV;AACD;AACF,KAbD;AAeA,QAAIG,OAAO,GAAGP,IAAI,CAACzB,GAAL,CAAS,CAACqB,CAAD,EAAIF,CAAJ,KAAU;AAC/B,0BAAO;AAAA,kBAAmBE;AAAnB,SAASF,CAAC,GAAG,GAAb;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFa,CAAd;AAIA,wBACE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAoC,MAAA,KAAK,EAAE,KAAKH,KAAhD;AAAA,6BACE;AAAO,QAAA,SAAS,EAAC,UAAjB;AAAA,gCACE;AAAA,iCACE;AAAI,YAAA,SAAS,EAAC,iBAAd;AAAA,oCACE;AAAI,cAAA,OAAO,EAAC,GAAZ;AAAA,sCACE,aAAM,QAAN;AAAA;AAAA;AAAA;AAAA,sBADF,oBACoB,aAAM,OAAN;AAAA;AAAA;AAAA;AAAA,sBADpB;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAI,cAAA,OAAO,EAAC,GAAZ;AAAgB,cAAA,SAAS,EAAC,WAA1B;AAAA,sCACE;AACE,gBAAA,SAAS,EAAC,+BADZ;AAEE,gBAAA,OAAO,EAAGrB,CAAD,IAAO;AACd,uBAAKJ,SAAL;AACD;AAJH;AAAA;AAAA;AAAA;AAAA,sBADF,eAOE;AACE,gBAAA,SAAS,EAAC,gCADZ;AAEE,gBAAA,OAAO,EAAGI,CAAD,IAAO;AACd,uBAAKP,SAAL;AACD;AAJH;AAAA;AAAA;AAAA;AAAA,sBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAsBE;AAAA,kCACE;AAAA,sBAAKtB;AAAL;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGGkE,OAHH;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAgCD;;AAjRmD","sourcesContent":["import React from \"react\";\nimport moment from \"moment\";\n\nexport default class Calendar extends React.Component {\n  state = {\n    dateContext: moment(),\n    today: moment(),\n    showMonthPopup: false,\n    showYearPopup: false,\n    selectedDay: null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.width = props.width || \"350px\";\n    this.style = props.style || {};\n    this.style.width = this.width; // add this\n  }\n\n  weekdays = moment.weekdays(); //[\"Sunday\", \"Monday\", \"Tuesday\", \"Wednessday\", \"Thursday\", \"Friday\", \"Saturday\"]\n  weekdaysShort = moment.weekdaysShort(); // [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n  months = moment.months();\n\n  year = () => {\n    return this.state.dateContext.format(\"Y\");\n  };\n  month = () => {\n    return this.state.dateContext.format(\"MMMM\");\n  };\n  daysInMonth = () => {\n    return this.state.dateContext.daysInMonth();\n  };\n  currentDate = () => {\n    console.log(\"currentDate: \", this.state.dateContext.get(\"date\"));\n    return this.state.dateContext.get(\"date\");\n  };\n  currentDay = () => {\n    return this.state.dateContext.format(\"D\");\n  };\n\n  firstDayOfMonth = () => {\n    let dateContext = this.state.dateContext;\n    let firstDay = moment(dateContext).startOf(\"month\").format(\"d\"); // Day of week 0...1..5...6\n    return firstDay;\n  };\n\n  setMonth = (month) => {\n    let monthNo = this.months.indexOf(month);\n    let dateContext = Object.assign({}, this.state.dateContext);\n    dateContext = moment(dateContext).set(\"month\", monthNo);\n    this.setState({\n      dateContext: dateContext,\n    });\n  };\n\n  nextMonth = () => {\n    let dateContext = Object.assign({}, this.state.dateContext);\n    dateContext = moment(dateContext).add(1, \"month\");\n    this.setState({\n      dateContext: dateContext,\n    });\n    this.props.onNextMonth && this.props.onNextMonth();\n  };\n\n  prevMonth = () => {\n    let dateContext = Object.assign({}, this.state.dateContext);\n    dateContext = moment(dateContext).subtract(1, \"month\");\n    this.setState({\n      dateContext: dateContext,\n    });\n    this.props.onPrevMonth && this.props.onPrevMonth();\n  };\n\n  onSelectChange = (e, data) => {\n    this.setMonth(data);\n    this.props.onMonthChange && this.props.onMonthChange();\n  };\n  SelectList = (props) => {\n    let popup = props.data.map((data) => {\n      return (\n        <div key={data}>\n          <a\n            href=\"#\"\n            onClick={(e) => {\n              this.onSelectChange(e, data);\n            }}\n          >\n            {data}\n          </a>\n        </div>\n      );\n    });\n\n    return <div className=\"month-popup\">{popup}</div>;\n  };\n\n  onChangeMonth = (e, month) => {\n    this.setState({\n      showMonthPopup: !this.state.showMonthPopup,\n    });\n  };\n\n  MonthNav = () => {\n    return (\n      <span\n        className=\"label-month\"\n        onClick={(e) => {\n          this.onChangeMonth(e, this.month());\n        }}\n      >\n        {this.month()}\n        {this.state.showMonthPopup && <this.SelectList data={this.months} />}\n      </span>\n    );\n  };\n\n  showYearEditor = () => {\n    this.setState({\n      showYearNav: true,\n    });\n  };\n\n  setYear = (year) => {\n    let dateContext = Object.assign({}, this.state.dateContext);\n    dateContext = moment(dateContext).set(\"year\", year);\n    this.setState({\n      dateContext: dateContext,\n    });\n  };\n  onYearChange = (e) => {\n    this.setYear(e.target.value);\n    this.props.onYearChange && this.props.onYearChange(e, e.target.value);\n  };\n\n  onKeyUpYear = (e) => {\n    if (e.which === 13 || e.which === 27) {\n      this.setYear(e.target.value);\n      this.setState({\n        showYearNav: false,\n      });\n    }\n  };\n\n  YearNav = () => {\n    return this.state.showYearNav ? (\n      <input\n        defaultValue={this.year()}\n        className=\"editor-year\"\n        ref={(yearInput) => {\n          this.yearInput = yearInput;\n        }}\n        onKeyUp={(e) => this.onKeyUpYear(e)}\n        onChange={(e) => this.onYearChange(e)}\n        type=\"number\"\n        placeholder=\"year\"\n      />\n    ) : (\n      <span\n        className=\"label-year\"\n        onDoubleClick={(e) => {\n          this.showYearEditor();\n        }}\n      >\n        {this.year()}\n      </span>\n    );\n  };\n\n  onDayClick = (e, day) => {\n    this.setState(\n      {\n        selectedDay: day,\n      },\n      () => {\n        console.log(\"SELECTED DAY: \", this.state.selectedDay);\n      }\n    );\n\n    this.props.onDayClick && this.props.onDayClick(e, day);\n  };\n\n  render() {\n    // Map the weekdays i.e Sun, Mon, Tue etc as <td>\n    let weekdays = this.weekdaysShort.map((day) => {\n      return (\n        <td key={day} className=\"week-day\">\n          {day}\n        </td>\n      );\n    });\n\n    let blanks = [];\n    for (let i = 0; i < this.firstDayOfMonth(); i++) {\n      blanks.push(\n        <td key={i * 80} className=\"emptySlot\">\n          {\"\"}\n        </td>\n      );\n    }\n\n    console.log(\"blanks: \", blanks);\n\n    let daysInMonth = [];\n    for (let d = 1; d <= this.daysInMonth(); d++) {\n      let className = d === this.currentDay() ? \"day current-day\" : \"day\";\n      let selectedClass = d === this.state.selectedDay ? \" selected-day \" : \"\";\n      daysInMonth.push(\n        <td key={d} className={className + selectedClass}>\n          <span\n            onClick={(e) => {\n              this.onDayClick(e, d);\n            }}\n          >\n            {d}\n          </span>\n        </td>\n      );\n    }\n\n    console.log(\"days: \", daysInMonth);\n\n    var totalSlots = [...blanks, ...daysInMonth];\n    let rows = [];\n    let cells = [];\n\n    totalSlots.forEach((row, i) => {\n      if (i % 7 !== 0) {\n        cells.push(row);\n      } else {\n        let insertRow = cells.slice();\n        rows.push(insertRow);\n        cells = [];\n        cells.push(row);\n      }\n      if (i === totalSlots.length - 1) {\n        let insertRow = cells.slice();\n        rows.push(insertRow);\n      }\n    });\n\n    let trElems = rows.map((d, i) => {\n      return <tr key={i * 100}>{d}</tr>;\n    });\n\n    return (\n      <div className=\"calendar-container\" style={this.style}>\n        <table className=\"calendar\">\n          <thead>\n            <tr className=\"calendar-header\">\n              <td colSpan=\"5\">\n                <this.MonthNav /> <this.YearNav />\n              </td>\n              <td colSpan=\"2\" className=\"nav-month\">\n                <i\n                  className=\"prev fa fa-fw fa-chevron-left\"\n                  onClick={(e) => {\n                    this.prevMonth();\n                  }}\n                ></i>\n                <i\n                  className=\"prev fa fa-fw fa-chevron-right\"\n                  onClick={(e) => {\n                    this.nextMonth();\n                  }}\n                ></i>\n              </td>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>{weekdays}</tr>\n            <button>button</button>\n            {trElems}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}